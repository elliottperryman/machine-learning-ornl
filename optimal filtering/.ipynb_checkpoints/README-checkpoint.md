This is an old, first implementation of pileup detection. What I wanted to test here was what to filter the data with first. I found that the traditional filtering method I was using (Trapezoid Fourier filter as described by Jordanov and Knoll) was best with the setup I had. This setup may not be optimal for all architectures, but if the parameters of the filter are set to be small, the filter does not smooth the data much (so there's not any information lost with gaussian noise). 